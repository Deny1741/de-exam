<%
const cfg = { ...require("./data.json"), ...arguments?.[0] }

const {
	extraClasses,
	extraAttrs,
	id,
	title,
	date,
	timer,
	timerConfig,
	image,
	imgPath,
	fullHeight,
	fullHeightImg,
	dark,

} = cfg
%>

<%

const darkBackground = dark ? 'event-card--dark' : '';
const fullImg =  fullHeightImg ? 'event-card__image--full-height' : '';
const full = fullHeight ? 'event-card-wrap--full-height' : '';
const classes = `event-card ${extraClasses.join(" ")} ${darkBackground}`.trim();
const attrs = extraAttrs.join(" ");

%>

<div class="event-card-wrap <%= full %>">
	<div class="<%= classes %>">
		<% if (timer) { %>
			<div class="timer" data-js-timer='<%- JSON.stringify(cfg.timerConfig) %>'>
				<div class="timer__title">До начала выставки осталось:</div>
				<div class="timer__text" data-js-timer-text></div>
			</div>
		<% } %>

		<% if (image) { %>
			<div class="event-card__image <%= fullImg %>"><img src="<%= imgPath %>" alt="" loading="lazy" width="100%"></div>
		<% } %>

		<div class="event-card__body">
			<p class="event-card__date"> <%= date %></p>
			<h3 class="event-card__title"> <%= title %></h3>
		</div>

	</div>
</div>
